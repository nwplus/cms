(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{188:function(e,t,n){e.exports=n.p+"img/5b873ef.svg"},197:function(e,t,n){var content=n(246);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(29).default)("e4dc2102",content,!0,{sourceMap:!1})},245:function(e,t,n){"use strict";var r=n(197);n.n(r).a},246:function(e,t,n){(e.exports=n(28)(!1)).push([e.i,".nwpluslogo[data-v-444e230a]{height:40px;padding-right:30%}.centered[data-v-444e230a]{padding-top:15%}#error-message[data-v-444e230a]{color:red}",""])},248:function(e,t,n){"use strict";n.r(t);n(39);var r,o=n(5),c=n(187),l=n.n(c),d=n(185),h={name:"Login",components:{darkmodeToggle:n(198).a},data:function(){return{error_message:"",buttonState:""}},asyncData:function(e){var t=e.redirect;d.b.onAuthStateChanged(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n,!e.t0){e.next=5;break}return e.next=4,d.c.isAdmin(n.email);case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=9;break}t("/cms"),e.next=10;break;case 9:n&&t("/signUp");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},methods:{googleSignIn:(r=Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.buttonState="is-loading",this.provider=new l.a.auth.GoogleAuthProvider,e.prev=2,e.next=5,d.b.signInWithPopup(this.provider);case 5:return t=e.sent,this.honk(),setTimeout(this.honk,450),e.next=10,d.c.isAdmin(t.user.email);case 10:if(e.sent){e.next=14;break}return d.a.logEvent("notAdmin",t.user.email),this.$router.push("/signUp"),e.abrupt("return");case 14:d.a.logEvent("login",t.user.email),this.$router.push("/cms"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),this.buttonState="","permission-denied"===e.t0.code?this.$router.push("/signUp"):"auth/web-storage-unsupported"===e.t0.code&&(this.error_message="Please enable 3rd party cookies");case 22:case"end":return e.stop()}}),e,this,[[2,18]])}))),function(){return r.apply(this,arguments)})}},m=(n(245),n(13)),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",{class:"hero centered is-fullheight "+e.darkmodeBackground},[r("div",{staticStyle:{position:"absolute",top:"0%","user-select":"none"}},[r("darkmodeToggle")],1),e._v(" "),r("div",{staticClass:"container has-text-centered"},[r("div",{staticClass:"level"},[r("div",{staticClass:"level-item has-text-centered"},[r("nw",[r("img",{staticClass:"nwpluslogo",attrs:{src:n(188),alt:"nwplus logo"}})])],1),e._v(" "),r("div",{staticClass:"level-item has-text-centered"},[r("div",[r("p",{class:"title "+e.darkmodeText},[e._v("\n              nwPlus Content Management System\n            ")])])])]),e._v(" "),r("b-button",{attrs:{type:e.buttonState+" is-primary"},on:{click:e.googleSignIn}},[e._v("Login")]),e._v(" "),r("p",{attrs:{id:"error-message"}},[e._v(e._s(e.error_message))])],1)])])}),[],!1,null,"444e230a",null);t.default=component.exports}}]);