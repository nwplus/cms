(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{182:function(e,t,n){e.exports=n.p+"img/5b873ef.svg"},192:function(e,t,n){var content=n(231);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(28).default)("f919ecfe",content,!0,{sourceMap:!1})},230:function(e,t,n){"use strict";var r=n(192);n.n(r).a},231:function(e,t,n){(e.exports=n(27)(!1)).push([e.i,".nwpluslogo[data-v-03b4e757]{height:40px;padding-right:30%}.centered[data-v-03b4e757]{padding-top:15%}#error-message[data-v-03b4e757]{color:red}",""])},234:function(e,t,n){"use strict";n.r(t);n(51);var r=n(7),o=n(181),c=n.n(o),l=n(193),d=n(179),h={name:"Login",components:{darkmodeToggle:l.a},data:function(){return{error_message:"",buttonState:""}},asyncData:function(e){var t=e.redirect;d.a.onAuthStateChanged(function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n,!e.t0){e.next=5;break}return e.next=4,d.b.isAdmin(n.email);case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=9;break}t("/cms"),e.next=10;break;case 9:n&&t("/signUp");case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},methods:{googleSignIn:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.buttonState="is-loading",this.provider=new c.a.auth.GoogleAuthProvider,e.prev=2,e.next=5,c.a.auth().setPersistence(c.a.auth.Auth.Persistence.SESSION);case 5:return e.next=7,d.a.signInWithPopup(this.provider);case 7:return t=e.sent,e.next=10,d.b.isAdmin(t.user.email);case 10:if(e.sent){e.next=13;break}return this.$router.push("/signUp"),e.abrupt("return");case 13:this.$router.push("/cms"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),"permission-denied"===e.t0.code?this.$router.push("/signUp"):"auth/web-storage-unsupported"===e.t0.code&&(this.error_message="Please enable 3rd party cookies");case 19:case"end":return e.stop()}},e,this,[[2,16]])}));return function(){return e.apply(this,arguments)}}()}},v=(n(230),n(14)),component=Object(v.a)(h,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",{class:"hero centered is-fullheight "+e.darkmodeBackground},[r("div",{staticStyle:{position:"absolute",top:"0%","user-select":"none"}},[r("darkmodeToggle")],1),e._v(" "),r("div",{staticClass:"container has-text-centered"},[r("div",{staticClass:"level"},[r("div",{staticClass:"level-item has-text-centered"},[r("nw",[r("img",{staticClass:"nwpluslogo",attrs:{src:n(182),alt:"nwplus logo"}})])],1),e._v(" "),r("div",{staticClass:"level-item has-text-centered"},[r("div",[r("p",{class:"title "+e.darkmodeText},[e._v("\n              nwPlus Content Management System\n            ")])])])]),e._v(" "),r("b-button",{attrs:{type:e.buttonState+" is-primary"},on:{click:e.googleSignIn}},[e._v("Login")]),e._v(" "),r("p",{attrs:{id:"error-message"}},[e._v(e._s(e.error_message))])],1)])])},[],!1,null,"03b4e757",null);t.default=component.exports}}]);