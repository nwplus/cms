(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{189:function(e,t,n){e.exports=n.p+"img/5b873ef.svg"},199:function(e,t,n){var content=n(236);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(29).default)("6901d147",content,!0,{sourceMap:!1})},235:function(e,t,n){"use strict";var r=n(199);n.n(r).a},236:function(e,t,n){(e.exports=n(28)(!1)).push([e.i,".nwpluslogo[data-v-74dcddb1]{height:40px;padding-right:30%}.centered[data-v-74dcddb1]{padding-top:15%}#error-message[data-v-74dcddb1]{color:red}",""])},239:function(e,t,n){"use strict";n.r(t);n(39);var r,o=n(5),c=n(188),d=n.n(c),l=n(184),h={name:"Login",components:{darkmodeToggle:n(200).a},data:function(){return{error_message:"",buttonState:""}},asyncData:function(e){var t=e.redirect;l.b.onAuthStateChanged(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n,!e.t0){e.next=5;break}return e.next=4,l.c.isAdmin(n.email);case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=9;break}t("/cms"),e.next=10;break;case 9:n&&t("/signUp");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},methods:{googleSignIn:(r=Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.buttonState="is-loading",this.provider=new d.a.auth.GoogleAuthProvider,e.prev=2,e.next=5,d.a.auth().setPersistence(d.a.auth.Auth.Persistence.SESSION);case 5:return e.next=7,l.b.signInWithPopup(this.provider);case 7:return t=e.sent,e.next=10,l.c.isAdmin(t.user.email);case 10:if(e.sent){e.next=13;break}return this.$router.push("/signUp"),e.abrupt("return");case 13:this.$router.push("/cms"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),"permission-denied"===e.t0.code?this.$router.push("/signUp"):"auth/web-storage-unsupported"===e.t0.code&&(this.error_message="Please enable 3rd party cookies");case 19:case"end":return e.stop()}}),e,this,[[2,16]])}))),function(){return r.apply(this,arguments)})}},v=(n(235),n(13)),component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",{class:"hero centered is-fullheight "+e.darkmodeBackground},[r("div",{staticStyle:{position:"absolute",top:"0%","user-select":"none"}},[r("darkmodeToggle")],1),e._v(" "),r("div",{staticClass:"container has-text-centered"},[r("div",{staticClass:"level"},[r("div",{staticClass:"level-item has-text-centered"},[r("nw",[r("img",{staticClass:"nwpluslogo",attrs:{src:n(189),alt:"nwplus logo"}})])],1),e._v(" "),r("div",{staticClass:"level-item has-text-centered"},[r("div",[r("p",{class:"title "+e.darkmodeText},[e._v("\n              nwPlus Content Management System\n            ")])])])]),e._v(" "),r("b-button",{attrs:{type:e.buttonState+" is-primary"},on:{click:e.googleSignIn}},[e._v("Login")]),e._v(" "),r("p",{attrs:{id:"error-message"}},[e._v(e._s(e.error_message))])],1)])])}),[],!1,null,"74dcddb1",null);t.default=component.exports}}]);